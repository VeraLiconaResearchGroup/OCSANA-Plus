<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="canonical" href="http://algorun.org">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>AlgoRun - fixing computational science reproducibility</title>
<script>window.twttr = (function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0],
t = window.twttr || {};
if (d.getElementById(id)) return t;
js = d.createElement(s);
js.id = id;
js.src = "https://platform.twitter.com/widgets.js";
fjs.parentNode.insertBefore(js, fjs);

t._e = [];
t.ready = function(f) {
t._e.push(f);
};

return t;
}(document, "script", "twitter-wjs"));</script>

  </head>

  <body>
    <header>
      <div class="inner">
        <h1>AlgoRun</h1>
        <h2>Packaging your algorithm to Algorun platform</h2>
        <a href="https://github.com/algorun" class="button"><small>Follow us on</small> GitHub</a>
	<div id="twitter-follow">"<a class="twitter-follow-button" href="https://twitter.com/algorun" data-size="large" data-show-count="false"> Follow @AlgoRun</a></div>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to package your algorithm to Algorun platform?</h2>

            <p>In this page, we will show you how to package your algorithm to Algorun. If you have not worked with Docker before, please download our <a href="docs/porting-your-algorithm-to-algorun-platform.pdf" target="_blank">full documentation</a> to get started.<br><br>If you are familiar with Docker, the below guide is sufficient for you to start ..</p>
<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 1: Prepare your algorithm</h3>

<ul>
<li>Your algorithm should accept the input as a file and produce the output to another file.</li>
    <li><p>Your algorithm should run as following:<br><code>command input_file [FLAGS] [-f output_file]</code> where:<table style="width:100%"><tr><td><code>command</code></td><td>Mandatory</td><td>The command you use through terminal to run your
algorithm</td></tr><tr><td><code>input_file</code></td><td>Mandatory</td><td>The input_file your algorithm read and process</td></tr><tr><td><code>FLAGS</code></td><td>Optional</td><td>If you have different modes for running the algorithm, you specify them as flags</td></tr><tr><td><code>-f output_file</code></td><td>Optional</td><td>If your command allow to specify a specific output file as
a parameter, it should be in this format. If not, your algorithm should still write the output to a file (you will
specify its name in the next step)</td></tr></table></p></li>
            </ul>

<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 2: Wrap your algorithm in a container</h3>

<p>To make the process easy, we have provided you with a directory that contains all what you
    need. You will just edit the files on it. Go to <a href="https://github.com/algorun/algorun" target="_blank">our repository</a> and
clone it to your machine (You will just use ‘try it’ directory for now). When you open the directory, you
should be able to figure out the folders as in the following figure:</p>
        <img src="images/try-it-dir.png" alt="algorun try it directory">
        <ul><li>First, you put all your algorithm source code in src folder.</li><li>Second, you edit each file in the algorun_info folder. The information you put here will be
displayed in the web page of your algorithm.<ul style="list-style-type:circle"><li>algo_name.txt: your algorithm name</li><li>auors.txt: the names of the authors of your algorithm separated by commas.</li><li>short_description.txt: a one-line description of what your algorithm stands for.</li><li>long_description.txt: describe your algorithm in details.</li><li>input_example.txt: give an example of how the input should be formatted.</li><li>output_example.txt: give an example of how the output looks like.</li><li>params.txt: tell users of your algorithm about the default configuration parameters of
your algorithm.</li><li>web_link.txt: direct users to your algorithm website.</li></ul></li><li>The last step is to edit the Dockerfile. Open the file and follow the instructions in it. If you want to get a better understanding, you may navigate to the index in this documentation (You do not have to; comments in the Dockerfile are self-illustrative).</li></ul>
<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 3: Build, run and test your container</h3>

<ul><li>In you working directory, use the following command to build your container:<br>
<code>docker build -t &#60;username&#62;/&#60;algorithm&#62; .</code></li><li>Make sure that the build is successful.</li><li>Use the following command to run your container:<br>
<code>docker run -d -p 31331:8765 &#60;username&#62;/&#60;algorithm&#62;</code></li><li>Open your web browser and go to <code>http://localhost:31331</code> and see your algorithm in action.</li></ul>
    
<h2>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>
<p>In ‘try it/src’ directory we have added a very simple ruby application that reads an input, appends a
string to it and send it back (not an algorithm; but simple for illustration). We have also edited all files in
‘algo_run’ info directory as a sample algorithm and then we added the instructions necessary in the
Dockerfile. You can check the appendix in the <a href="docs/porting-your-algorithm-to-algorun-platform.pdf" target="_blank">full documentation!</a> for a detailed example. Lastly, we build and run our container as
indicated in the previous section.</p>
        </section>

        <aside id="sidebar">
		<div>
			<a href="https://twitter.com/share" class="twitter-share-button" data-text="Easily run and publish your algorithms with AlgoRun" data-via="algorun" data-hashtags="ScienceReproducibility">Tweet</a>
		</div>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </aside>
	<div style="clear:both;"></div>
	<footer>
		<p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.<br/>
	  	Copyright (C) 2015 Thibauld Favre</p>
	</footer>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-64522456-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
